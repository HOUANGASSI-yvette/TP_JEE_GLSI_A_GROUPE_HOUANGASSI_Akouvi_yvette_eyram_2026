<div
  class="h-screen w-64 bg-black text-slate-300 fixed left-0 top-0 flex flex-col shadow-2xl z-50 border-r border-emerald-900/20">

  <div class="h-24 flex items-center px-6 border-b border-white/5">
    <div class="flex items-center gap-3">
      <div
        class="w-10 h-10 rounded-xl bg-gradient-to-tr from-emerald-400 to-emerald-600 flex items-center justify-center shadow-lg shadow-emerald-500/20 text-white transform -rotate-3">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
             class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round"
                d="M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0012 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75z" />
        </svg>
      </div>
      <div>
        <span class="text-xl font-bold text-white tracking-tight font-primary block leading-none">EgaBank</span>
        <span class="text-[0.6rem] uppercase tracking-[0.2em] text-emerald-500 font-black">Membre Privé</span>
      </div>
    </div>
  </div>

  <nav class="flex-1 px-4 py-8 space-y-1 overflow-y-auto custom-scrollbar">
    <div class="text-[10px] uppercase text-emerald-600/60 font-black px-4 mb-4 tracking-[0.15em]">Espace Gestion</div>

    <a *ngFor="let link of filteredLinks" [routerLink]="link.href"
       routerLinkActive="bg-emerald-950/30 text-emerald-400 border-l-4 border-emerald-500 shadow-inner"
       [routerLinkActiveOptions]="{exact: link.href === '/dashboard'}"
       class="flex items-center space-x-3 px-4 py-3 rounded-r-lg border-l-4 border-transparent text-slate-400 hover:bg-white/5 hover:text-white transition-all duration-300 group">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
           class="w-5 h-5 group-hover:text-emerald-400 transition-colors">
        <path stroke-linecap="round" stroke-linejoin="round" [attr.d]="link.icon" />
      </svg>
      <span class="font-bold text-xs uppercase tracking-widest">{{ link.label }}</span>
    </a>
  </nav>

  <div class="p-3 mx-4 mb-6 bg-white/[0.03] rounded-2xl border border-white/5 backdrop-blur-sm">
    <div class="flex items-center gap-3 mb-4 p-1">
      <div class="relative">
        <div
          class="w-10 h-10 rounded-full bg-emerald-600 flex items-center justify-center text-white font-black border-2 border-black ring-1 ring-emerald-500/30">
          {{ getUserName().charAt(0) }}
        </div>
        <div class="absolute bottom-0 right-0 w-3 h-3 bg-emerald-500 rounded-full border-2 border-black shadow-[0_0_8px_rgba(16,185,129,0.5)]"></div>
      </div>
      <div class="overflow-hidden">
        <div class="text-sm font-bold text-white truncate">{{ getUserName() }}</div>
        <div class="text-[10px] text-emerald-500/80 font-bold uppercase tracking-tighter truncate">
          {{ getUserRoleTitle() || 'Client Prestige' }}
        </div>
      </div>
    </div>

    <button (click)="logout()"
            class="flex items-center gap-2 justify-center w-full py-2.5 bg-transparent hover:bg-red-500/5 hover:text-red-400 border border-white/5 hover:border-red-500/20 text-slate-500 rounded-xl transition-all duration-300 text-[10px] font-black uppercase tracking-[0.1em]">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"
           class="w-3.5 h-3.5">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75" />
      </svg>
      Sortie sécurisée
    </button>
  </div>
</div>
